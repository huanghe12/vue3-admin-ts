import{d as S,u as z,N as F,r as D,o as I,e as i,V as w,f as d,j as _,w as t,k as o,W as G,i as u,h as c,t as p,g as h,l as V,m as g}from"./vendor.9dd18d83.js";import{_ as $,e as j,f as A}from"./index.2323aac0.js";const L=g("\u6DFB\u52A0\u5546\u54C1"),P=["src"],U={key:0,style:{color:"green"}},q={key:1,style:{color:"red"}},M=g("\u4FEE\u6539"),R=g("\u4E0B\u67B6"),T=g("\u4E0A\u67B6"),W=S({setup(H){const m=z(),C=F([]),a=D({loading:!1,total:0,pageNumber:1,pageSize:10});I(()=>{f()});const f=async()=>{a.loading=!0;const s={pageNumber:a.pageNumber,pageSize:a.pageSize},n=await j(s);C.value=n.data.list,a.total=n.data.totalCount,a.pageNumber=n.data.currPage,a.loading=!1},k=()=>{m.push({path:"/add"})},v=s=>{m.push({path:"/add",query:{id:s}})},b=async(s,n)=>{(await A({ids:{ids:[s]},status:n})).resultCode===200&&f()};return(s,n)=>{const r=i("el-button"),l=i("el-table-column"),B=i("el-table"),E=i("el-pagination"),x=i("el-card"),N=w("loading");return d(),_(x,{class:"good-card"},{header:t(()=>[o(r,{type:"primary",icon:"el-icon-plus",class:"btn",onClick:k},{default:t(()=>[L]),_:1})]),default:t(()=>[G(o(B,{data:C.value,lazy:!0,style:{width:"100%"}},{default:t(()=>[o(l,{label:"\u5546\u54C1\u7F16\u53F7",align:"center"},{default:t(({row:e})=>[c("span",null,p(e.goodsId),1)]),_:1}),o(l,{label:"\u5546\u54C1\u540D",align:"center"},{default:t(({row:e})=>[c("span",null,p(e.goodsName),1)]),_:1}),o(l,{label:"\u5546\u54C1\u7B80\u4ECB",align:"center"},{default:t(({row:e})=>[c("span",null,p(e.goodsIntro),1)]),_:1}),o(l,{label:"\u5546\u54C1\u56FE\u7247",align:"center",width:"150px"},{default:t(({row:e})=>[c("img",{style:{height:"100px",width:"100px"},src:s.$filters.prefix(e.goodsCoverImg),alt:"\u5546\u54C1\u4E3B\u56FE"},null,8,P)]),_:1}),o(l,{label:"\u5546\u54C1\u5E93\u5B58",align:"center"},{default:t(({row:e})=>[c("span",null,p(e.stockNum),1)]),_:1}),o(l,{label:"\u5546\u54C1\u552E\u4EF7",align:"center"},{default:t(({row:e})=>[c("span",null,p(e.sellingPrice),1)]),_:1}),o(l,{label:"\u4E0A\u67B6\u72B6\u6001",align:"center"},{default:t(({row:e})=>[e.goodsSellStatus===0?(d(),h("span",U,"\u9500\u552E\u4E2D")):(d(),h("span",q,"\u5DF2\u4E0B\u67B6"))]),_:1}),o(l,{label:"\u64CD\u4F5C",align:"center"},{default:t(({row:e})=>[o(r,{type:"text",onClick:y=>v(e.goodsId)},{default:t(()=>[M]),_:2},1032,["onClick"]),e.goodsSellStatus===0?(d(),_(r,{key:0,type:"text",onClick:y=>b(e.goodsId,1)},{default:t(()=>[R]),_:2},1032,["onClick"])):(d(),_(r,{key:1,type:"text",onClick:y=>b(e.goodsId,0)},{default:t(()=>[T]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"]),[[N,u(a).loading]]),u(a).total>10?(d(),_(E,{key:0,"current-page":u(a).pageNumber,"onUpdate:current-page":n[0]||(n[0]=e=>u(a).pageNumber=e),"page-size":u(a).pageSize,"onUpdate:page-size":n[1]||(n[1]=e=>u(a).pageSize=e),background:"",layout:"prev, pager, next",total:u(a).total,onCurrentChange:f},null,8,["current-page","page-size","total"])):V("",!0)]),_:1})}}});var O=$(W,[["__scopeId","data-v-66dc050d"]]);export{O as default};
