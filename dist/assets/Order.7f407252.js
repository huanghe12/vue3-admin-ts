import{_ as q,z as M,A as W,B as P,C as X}from"./index.2323aac0.js";import{d as Y,u as G,r as H,o as J,R as K,e as r,V as Q,f as s,j as g,w as o,k as u,i,X as f,g as F,$ as Z,Y as ee,W as te,h as ue,t as le,l as D,m as p,E as m}from"./vendor.9dd18d83.js";const oe=p(" \u914D\u8D27\u5B8C\u6210 "),ae=p("\u51FA\u5E93"),ne=p("\u5173\u95ED\u8BA2\u5355"),re={key:0},se={key:1},ie={key:2},de=p("\u914D\u8D27\u5B8C\u6210"),ce=p("\u51FA\u5E93"),pe=p("\u5173\u95ED\u8BA2\u5355"),_e=p("\u8BA2\u5355\u8BE6\u60C5"),me=Y({setup(ge){const x=G(),l=H({loading:!0,orderList:[],multipleSelection:[],pageNumber:1,pageSize:10,orderNo:"",orderStatus:"",total:0,options:[{value:"",label:"\u5168\u90E8"},{value:0,label:"\u5F85\u652F\u4ED8"},{value:1,label:"\u5DF2\u652F\u4ED8"},{value:2,label:"\u914D\u8D27\u5B8C\u6210"},{value:3,label:"\u51FA\u5E93\u6210\u529F"},{value:4,label:"\u4EA4\u6613\u6210\u529F"},{value:-1,label:"\u624B\u52A8\u5173\u95ED"},{value:-2,label:"\u8D85\u65F6\u5173\u95ED"},{value:-3,label:"\u5546\u5BB6\u5173\u95ED"}]});J(()=>{_()});const _=async()=>{l.loading=!0;const a={params:{pageNumber:l.pageNumber,pageSize:l.pageSize,orderNo:l.orderNo,orderStatus:l.orderStatus}},e=await M(a),{data:n}=e;l.orderList=n.list,l.total=n.totalCount,l.loading=!1},N=a=>{l.multipleSelection=a},h=async a=>{let e;if(a)e={ids:[a]};else{if(!l.multipleSelection.length){m.error("\u8BF7\u9009\u62E9\u9879");return}e={ids:l.multipleSelection.map(n=>n.orderId)}}try{(await W(e)).resultCode===200&&(m.success("\u914D\u8D27\u6210\u529F"),_())}catch(n){}},S=async a=>{let e;if(a)e={ids:[a]};else{if(!l.multipleSelection.length){m.error("\u8BF7\u9009\u62E9\u9879");return}e={ids:l.multipleSelection.map(n=>n.orderId)}}try{(await P(e)).resultCode===200&&(m.success("\u51FA\u5E93\u6210\u529F"),_())}catch(n){}},A=async a=>{let e;if(a)e={ids:[a]};else{if(!l.multipleSelection.length){m.error("\u8BF7\u9009\u62E9\u9879");return}e={ids:l.multipleSelection.map(n=>n.orderId)}}try{(await X(e)).resultCode===200&&(m.success("\u5173\u95ED\u6210\u529F"),_())}catch(n){}},k=()=>{l.pageNumber=1,_()},z=a=>{x.push({path:"/orderDetails",query:{id:a}})},{loading:V,orderList:$,orderStatus:y,orderNo:v,options:I,total:O,pageNumber:b,pageSize:C}=K(l);return(a,e)=>{const n=r("el-input"),w=r("el-option"),L=r("el-select"),d=r("el-button"),c=r("el-table-column"),E=r("el-popconfirm"),R=r("el-table"),T=r("el-pagination"),U=r("el-card"),j=Q("loading");return s(),g(U,null,{header:o(()=>[u(n,{modelValue:i(v),"onUpdate:modelValue":e[0]||(e[0]=t=>f(v)?v.value=t:null),size:"small",style:{width:"200px","margin-right":"10px"},placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",clearable:"",onChange:k},null,8,["modelValue"]),u(L,{modelValue:i(y),"onUpdate:modelValue":e[1]||(e[1]=t=>f(y)?y.value=t:null),size:"small",style:{width:"200px","margin-right":"10px"},onChange:k},{default:o(()=>[(s(!0),F(ee,null,Z(i(I),t=>(s(),g(w,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(d,{type:"primary",size:"small",icon:"el-icon-s-home",onClick:e[2]||(e[2]=t=>h())},{default:o(()=>[oe]),_:1}),u(d,{type:"primary",size:"small",icon:"el-icon-s-home",onClick:e[3]||(e[3]=t=>S())},{default:o(()=>[ae]),_:1}),u(d,{size:"small",icon:"el-icon-delete",type:"danger",onClick:e[4]||(e[4]=t=>A())},{default:o(()=>[ne]),_:1})]),default:o(()=>[te(u(R,{data:i($),style:{width:"100%"},onSelectionChange:N},{default:o(()=>[u(c,{type:"selection",width:"55"}),u(c,{label:"\u8BA2\u5355\u53F7",align:"center",prop:"orderNo"}),u(c,{label:"\u8BA2\u5355\u603B\u4EF7",align:"center",prop:"totalPrice"}),u(c,{label:"\u8BA2\u5355\u72B6\u6001",align:"center"},{default:o(({row:t})=>[ue("span",null,le(a.$filters.orderMap(t.orderStatus)),1)]),_:1}),u(c,{label:"\u652F\u4ED8\u65B9\u5F0F",align:"center"},{default:o(({row:t})=>[t.payType===1?(s(),F("span",re,"\u5FAE\u4FE1")):t.payType===2?(s(),F("span",se,"\u652F\u4ED8\u5B9D")):(s(),F("span",ie,"\u672A\u652F\u4ED8"))]),_:1}),u(c,{label:"\u521B\u5EFA\u65F6\u95F4",align:"center",prop:"createTime"}),u(c,{label:"\u64CD\u4F5C",align:"center"},{default:o(({row:t})=>[t.orderStatus===1?(s(),g(E,{key:0,title:"\u786E\u5B9A\u914D\u8D27\u5B8C\u6210\u5417\uFF1F",onConfirm:B=>h(t.orderId)},{reference:o(()=>[u(d,{type:"text"},{default:o(()=>[de]),_:1})]),_:2},1032,["onConfirm"])):D("",!0),t.orderStatus===2?(s(),g(E,{key:1,title:"\u786E\u5B9A\u51FA\u5E93\u5417\uFF1F",onConfirm:B=>S(t.orderId)},{reference:o(()=>[u(d,{type:"text"},{default:o(()=>[ce]),_:1})]),_:2},1032,["onConfirm"])):D("",!0),t.orderStatus===4||t.orderStatus<0?D("",!0):(s(),g(E,{key:2,title:"\u786E\u5B9A\u5173\u95ED\u8BA2\u5355\u5417\uFF1F",onConfirm:B=>A(t.orderId)},{reference:o(()=>[u(d,{type:"text"},{default:o(()=>[pe]),_:1})]),_:2},1032,["onConfirm"])),u(d,{type:"text",style:{"margin-left":"8px"},onClick:B=>z(t.orderId)},{default:o(()=>[_e]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),[[j,i(V)]]),u(T,{"page-size":i(C),"onUpdate:page-size":e[5]||(e[5]=t=>f(C)?C.value=t:null),"current-page":i(b),"onUpdate:current-page":e[6]||(e[6]=t=>f(b)?b.value=t:null),background:"",layout:"prev, pager, next",total:i(O),onCurrentChange:_},null,8,["page-size","current-page","total"])]),_:1})}}});var ye=q(me,[["__scopeId","data-v-4db3bbb4"]]);export{ye as default};
