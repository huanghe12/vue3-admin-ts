import{_ as x,w as N,x as G,y as w}from"./index.2323aac0.js";import{d as V,r as j,o as R,R as q,e as s,V as I,f as M,j as T,w as o,k as a,W as U,i,h as _,t as m,_ as b,X as f,m as y,E as c}from"./vendor.9dd18d83.js";const A=y("\u89E3\u9664\u7981\u7528"),W=y("\u7981\u7528\u8D26\u6237"),X=V({setup(H){const e=j({loading:!1,multipleSelection:[],pageNumber:1,pageSize:10,total:0,tableData:[]});R(()=>{r()});const r=async()=>{e.loading=!0;const n={params:{pageNumber:e.pageNumber,pageSize:e.pageSize}},{data:t}=await N(n);e.tableData=t.list,e.total=t.totalCount,e.loading=!1},v=n=>{e.multipleSelection=n.map(t=>t.userId)},S=async()=>{if(!e.multipleSelection.length){c.error("\u8BF7\u9009\u62E9\u9879");return}const n={ids:e.multipleSelection};await G(n),c.success("\u89E3\u9664\u6210\u529F"),r()},C=async()=>{if(!e.multipleSelection.length){c.error("\u8BF7\u9009\u62E9\u9879");return}const n={ids:e.multipleSelection};await w(n),c.success("\u7981\u7528\u6210\u529F"),r()},{loading:F,tableData:E,total:h,pageSize:p,pageNumber:d}=q(e);return(n,t)=>{const g=s("el-button"),u=s("el-table-column"),D=s("el-table"),k=s("el-pagination"),z=s("el-card"),B=I("loading");return M(),T(z,null,{header:o(()=>[a(g,{size:"small",type:"primary",icon:"el-icon-plus",onClick:S},{default:o(()=>[A]),_:1}),a(g,{size:"small",type:"danger",icon:"el-icon-delete",onClick:C},{default:o(()=>[W]),_:1})]),default:o(()=>[U(a(D,{data:i(E),onSelectionChange:v},{default:o(()=>[a(u,{type:"selection",align:"center"}),a(u,{label:"\u6635\u79F0",prop:"nickName",align:"center"}),a(u,{label:"\u767B\u5F55\u540D",prop:"loginName",align:"center"}),a(u,{label:"\u8EAB\u4EFD\u72B6\u6001",align:"center"},{default:o(({row:l})=>[_("span",{style:b(l.lockedFlag==0?"color: green;":"color: red;")},m(l.lockedFlag==0?"\u6B63\u5E38":"\u7981\u7528"),5)]),_:1}),a(u,{label:"\u662F\u5426\u6CE8\u9500",prop:"",align:"center"},{default:o(({row:l})=>[_("span",{style:b(l.lockedFlag==0?"color: green;":"color: red;")},m(l.isDeleted==0?"\u6B63\u5E38":"\u6CE8\u9500"),5)]),_:1}),a(u,{label:"\u6CE8\u518C\u65F6\u95F4",prop:"createTime",align:"center"})]),_:1},8,["data"]),[[B,i(F)]]),a(k,{"current-page":i(d),"onUpdate:current-page":t[0]||(t[0]=l=>f(d)?d.value=l:null),"page-size":i(p),"onUpdate:page-size":t[1]||(t[1]=l=>f(p)?p.value=l:null),background:"",layout:"prev, pager, next",total:i(h),onCurrentChange:r},null,8,["current-page","page-size","total"])]),_:1})}}});var L=x(X,[["__scopeId","data-v-3d35ad09"]]);export{L as default};
